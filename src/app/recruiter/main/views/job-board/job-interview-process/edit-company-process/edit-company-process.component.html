<div class="card">
  <div class="card-body">
    <mat-dialog-content class="mat-typography">
      <h3 class="form-title text-center">Edit Company Process</h3>
      <form
        class="mt-2"
        [formGroup]="existingProcessForm_"
        (ngSubmit)="onSubmit()"
      >
        <div
          formArrayName="processes"
          *ngFor="let process of processes_.controls; let i = index"
        >
          <div [formGroupName]="i">
            <div class="form-group process-name">
              <label class="required-field-label" for="process-{{ i }}"
                >Process Name</label
              ><input
                class="form-control"
                type="text"
                id="process-{{ i }}"
                formControlName="processName"
              />
              <!-- Remove Process Button -->
              <button
                type="button"
                class="btn btn-sm delete-button"
                (click)="removeProcess(i)"
              >
                <img
                  src="../../../../../../assets/images/icons/cancel-red-circle.svg"
                  alt=""
                  class="img-fluid"
                />
              </button>
            </div>
            <div class="form-group">
              <label class="required-field-label" for="date-{{ i }}"
                >Date</label
              >
              <input
                type="date"
                class="form-control"
                name="date"
                id="date-{{ i }}"
                formControlName="date"
              />
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-primary" (click)="addProcess_()">
          Add new process
        </button>
        <div class="text-right mt-4">
          <button type="button" class="btn btn-danger mr-2" [mat-dialog-close]>
            Cancel
          </button>
          <button
            type="submit"
            class="btn btn-success"
            [disabled]="!existingProcessForm_.valid"
            type="submit"
            [mat-dialog-close]
          >
            Update Process
          </button>
        </div>
      </form>
    </mat-dialog-content>
  </div>
</div>
